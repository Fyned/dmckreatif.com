@import "tailwindcss";

/* Self-hosted fonts — eliminates Google Fonts render-blocking */
@font-face {
  font-family: 'Syne';
  font-style: normal;
  font-weight: 700 800;
  font-display: swap;
  src: url('/fonts/syne-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Syne';
  font-style: normal;
  font-weight: 700 800;
  font-display: swap;
  src: url('/fonts/syne-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'DM Sans';
  font-style: normal;
  font-weight: 400 500;
  font-display: swap;
  src: url('/fonts/dmsans-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'DM Sans';
  font-style: normal;
  font-weight: 400 500;
  font-display: swap;
  src: url('/fonts/dmsans-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* ═══════════════════════════════════════════════════════
   DMC KREATIF — NeoBrutalist Design System (Tailwind v4)
   ═══════════════════════════════════════════════════════ */

@theme {
  /* ── Colors ── */
  --color-neo-bg: #FFFDF5;
  --color-neo-bg-alt: #F5F0E8;
  --color-neo-black: #121212;
  --color-neo-white: #FFFFFF;
  --color-neo-lime: #CDFF50;
  --color-neo-yellow: #FBFF48;
  --color-neo-pink: #FF70A6;
  --color-neo-blue: #3B82F6;
  --color-neo-green: #33FF57;
  --color-neo-purple: #A855F7;
  --color-neo-orange: #FF9F1C;
  --color-neo-red: #FF2A2A;

  /* ── Fonts ── */
  --font-display: "Syne", sans-serif;
  --font-body: "DM Sans", sans-serif;
  --font-space: "Syne", "DM Sans", sans-serif;
  --font-mono: "JetBrains Mono", monospace;

  /* ── Font Sizes — defined in @layer utilities (clamp breaks @theme parser) ── */

  /* ── Hard Shadows ── */
  --shadow-hard-sm: 2px 2px 0px 0px #121212;
  --shadow-hard: 4px 4px 0px 0px #121212;
  --shadow-hard-lg: 8px 8px 0px 0px #121212;
  --shadow-hard-xl: 12px 12px 0px 0px #121212;
  --shadow-hard-lime: 4px 4px 0px 0px #CDFF50;
  --shadow-hard-pink: 4px 4px 0px 0px #FF70A6;
  --shadow-hard-blue: 4px 4px 0px 0px #3B82F6;
  --shadow-hard-yellow: 4px 4px 0px 0px #FBFF48;
  --shadow-hard-green: 4px 4px 0px 0px #33FF57;
  --shadow-hard-purple: 4px 4px 0px 0px #A855F7;
  --shadow-hard-orange: 4px 4px 0px 0px #FF9F1C;

  /* ── Spacing ── */
  --spacing-section-sm: 80px;
  --spacing-section: 120px;

  /* ── Max Width (container) ── */
  --max-width-container: 1280px;

  /* ── Animations ── */
  --animate-marquee: marquee 40s linear infinite;
  --animate-marquee-reverse: marquee-reverse 40s linear infinite;
  --animate-marquee-logos: marquee 30s linear infinite;
}

/* ── Marquee Keyframes (MUST be outside @theme) ── */
@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-50%); }
}

@keyframes marquee-reverse {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0%); }
}

/* ── Base Layer ── */
@layer base {
  body {
    @apply bg-neo-bg text-neo-black;
    font-family: var(--font-body);
    background-image: radial-gradient(#121212 1px, transparent 1px);
    background-size: 40px 40px;
    font-synthesis: none;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.01em;
  }

  ::selection {
    @apply bg-neo-lime text-neo-black;
  }

  * {
    @apply border-neo-black;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    @apply font-bold uppercase;
    letter-spacing: -0.03em;
  }

  a {
    @apply text-neo-black no-underline;
  }

  /* WCAG 2.1 AA — Global focus-visible styles */
  :focus-visible {
    outline: 2px solid #CDFF50;
    outline-offset: 2px;
  }

  /* Ensure minimum touch target 44×44px on mobile */
  @media (pointer: coarse) {
    button, a, input, select, textarea {
      min-height: 44px;
    }
  }
}

/* ── Components Layer ── */
@layer components {
  .neo-border {
    @apply border-2 border-neo-black;
  }

  .neo-border-thick {
    @apply border-4 border-neo-black;
  }

  .neo-press {
    @apply transition-all duration-150;
  }

  .neo-press:hover {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px 0px #121212;
  }

  .neo-press:active {
    transform: translate(4px, 4px);
    box-shadow: none;
  }

  .section-alt {
    @apply bg-neo-bg-alt;
  }
}

/* ── Utilities Layer ── */
@layer utilities {
  /* ── Fluid Font Sizes (clamp() breaks Tailwind v4 @theme parser) ── */
  .text-hero {
    font-size: clamp(3rem, 8vw + 1rem, 8rem);
  }

  .text-h1 {
    font-size: clamp(2.25rem, 3.5vw + 1rem, 4rem);
  }

  .text-h2 {
    font-size: clamp(1.75rem, 2.5vw + 0.5rem, 2.75rem);
  }

  .text-h3 {
    font-size: clamp(1.25rem, 1.5vw + 0.5rem, 1.75rem);
  }

  .font-body {
    font-family: var(--font-body);
  }

  .text-stroke {
    -webkit-text-stroke: 2px #121212;
    color: transparent;
  }

  .text-stroke-thin {
    -webkit-text-stroke: 1px #121212;
    color: transparent;
  }

  .glitch:hover {
    animation: glitch 0.3s ease-in-out;
  }

  .pause-on-hover:hover .marquee-track {
    animation-play-state: paused;
  }
}

/* ── Glitch Keyframes ── */
@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-3px, 3px); }
  40% { transform: translate(3px, -3px); }
  60% { transform: translate(-3px, -3px); }
  80% { transform: translate(3px, 3px); }
  100% { transform: translate(0); }
}

/* ── Reduced Motion (WCAG 2.1 AA) ── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ── Scrollbar ── */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: #FFFDF5;
}

::-webkit-scrollbar-thumb {
  background: #121212;
  border: 2px solid #FFFDF5;
}

::-webkit-scrollbar-thumb:hover {
  background: #333;
}
